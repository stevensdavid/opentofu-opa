{"format_version":"1.2","terraform_version":"1.9.0","planned_values":{"root_module":{"resources":[{"address":"aws_ecs_cluster.cluster","mode":"managed","type":"aws_ecs_cluster","name":"cluster","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"configuration":[],"name":"test-cluster","service_connect_defaults":[],"tags":null},"sensitive_values":{"configuration":[],"service_connect_defaults":[],"setting":[],"tags_all":{}}},{"address":"aws_ecs_task_definition.task","mode":"managed","type":"aws_ecs_task_definition","name":"task","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"container_definitions":"[{\"essential\":true,\"image\":\"nginx:latest\",\"name\":\"test-container\"}]","cpu":"256","ephemeral_storage":[],"execution_role_arn":null,"family":"test-task","inference_accelerator":[],"ipc_mode":null,"memory":"512","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"runtime_platform":[],"skip_destroy":false,"tags":null,"task_role_arn":null,"track_latest":false,"volume":[]},"sensitive_values":{"ephemeral_storage":[],"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"runtime_platform":[],"tags_all":{},"volume":[]}},{"address":"aws_subnet.subnet_one","mode":"managed","type":"aws_subnet","name":"subnet_one","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_subnet.subnet_two","mode":"managed","type":"aws_subnet","name":"subnet_two","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":null},"sensitive_values":{"tags_all":{}}}],"child_modules":[{"resources":[{"address":"module.fail.aws_ecs_service.valid_with_latest_version","mode":"managed","type":"aws_ecs_service","name":"valid_with_latest_version","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"alarms":[],"availability_zone_rebalancing":"DISABLED","capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":0,"enable_ecs_managed_tags":false,"enable_execute_command":false,"force_delete":null,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[],"name":"valid-service-with-latest-platform-version","network_configuration":[{"assign_public_ip":false,"security_groups":null}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_connect_configuration":[],"service_registries":[],"tags":null,"timeouts":null,"volume_configuration":[],"vpc_lattice_configurations":[],"wait_for_steady_state":false},"sensitive_values":{"alarms":[],"capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"load_balancer":[],"network_configuration":[{"subnets":[]}],"ordered_placement_strategy":[],"placement_constraints":[],"service_connect_configuration":[],"service_registries":[],"tags_all":{},"triggers":{},"volume_configuration":[],"vpc_lattice_configurations":[]}},{"address":"module.fail.aws_ecs_service.valid_without_version","mode":"managed","type":"aws_ecs_service","name":"valid_without_version","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"alarms":[],"availability_zone_rebalancing":"DISABLED","capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":0,"enable_ecs_managed_tags":false,"enable_execute_command":false,"force_delete":null,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[],"name":"valid-service-without-platform-version","network_configuration":[{"assign_public_ip":false,"security_groups":null}],"ordered_placement_strategy":[],"placement_constraints":[],"propagate_tags":null,"scheduling_strategy":"REPLICA","service_connect_configuration":[],"service_registries":[],"tags":null,"timeouts":null,"volume_configuration":[],"vpc_lattice_configurations":[],"wait_for_steady_state":false},"sensitive_values":{"alarms":[],"capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"load_balancer":[],"network_configuration":[{"subnets":[]}],"ordered_placement_strategy":[],"placement_constraints":[],"service_connect_configuration":[],"service_registries":[],"tags_all":{},"triggers":{},"volume_configuration":[],"vpc_lattice_configurations":[]}}],"address":"module.fail"}]}},"resource_changes":[{"address":"aws_ecs_cluster.cluster","mode":"managed","type":"aws_ecs_cluster","name":"cluster","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"configuration":[],"name":"test-cluster","service_connect_defaults":[],"tags":null},"after_unknown":{"arn":true,"configuration":[],"id":true,"service_connect_defaults":[],"setting":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"configuration":[],"service_connect_defaults":[],"setting":[],"tags_all":{}}}},{"address":"aws_ecs_task_definition.task","mode":"managed","type":"aws_ecs_task_definition","name":"task","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"container_definitions":"[{\"essential\":true,\"image\":\"nginx:latest\",\"name\":\"test-container\"}]","cpu":"256","ephemeral_storage":[],"execution_role_arn":null,"family":"test-task","inference_accelerator":[],"ipc_mode":null,"memory":"512","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"runtime_platform":[],"skip_destroy":false,"tags":null,"task_role_arn":null,"track_latest":false,"volume":[]},"after_unknown":{"arn":true,"arn_without_revision":true,"ephemeral_storage":[],"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"runtime_platform":[],"tags_all":true,"volume":[]},"before_sensitive":false,"after_sensitive":{"ephemeral_storage":[],"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"runtime_platform":[],"tags_all":{},"volume":[]}}},{"address":"aws_subnet.subnet_one","mode":"managed","type":"aws_subnet","name":"subnet_one","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"availability_zone":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_subnet.subnet_two","mode":"managed","type":"aws_subnet","name":"subnet_two","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"availability_zone":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":null},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.fail.aws_ecs_service.valid_with_latest_version","module_address":"module.fail","mode":"managed","type":"aws_ecs_service","name":"valid_with_latest_version","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alarms":[],"availability_zone_rebalancing":"DISABLED","capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":0,"enable_ecs_managed_tags":false,"enable_execute_command":false,"force_delete":null,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[],"name":"valid-service-with-latest-platform-version","network_configuration":[{"assign_public_ip":false,"security_groups":null}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_connect_configuration":[],"service_registries":[],"tags":null,"timeouts":null,"volume_configuration":[],"vpc_lattice_configurations":[],"wait_for_steady_state":false},"after_unknown":{"alarms":[],"capacity_provider_strategy":[],"cluster":true,"deployment_circuit_breaker":[],"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[],"network_configuration":[{"subnets":true}],"ordered_placement_strategy":[],"placement_constraints":[],"service_connect_configuration":[],"service_registries":[],"tags_all":true,"task_definition":true,"triggers":true,"volume_configuration":[],"vpc_lattice_configurations":[]},"before_sensitive":false,"after_sensitive":{"alarms":[],"capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"load_balancer":[],"network_configuration":[{"subnets":[]}],"ordered_placement_strategy":[],"placement_constraints":[],"service_connect_configuration":[],"service_registries":[],"tags_all":{},"triggers":{},"volume_configuration":[],"vpc_lattice_configurations":[]}}},{"address":"module.fail.aws_ecs_service.valid_without_version","module_address":"module.fail","mode":"managed","type":"aws_ecs_service","name":"valid_without_version","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alarms":[],"availability_zone_rebalancing":"DISABLED","capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":0,"enable_ecs_managed_tags":false,"enable_execute_command":false,"force_delete":null,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[],"name":"valid-service-without-platform-version","network_configuration":[{"assign_public_ip":false,"security_groups":null}],"ordered_placement_strategy":[],"placement_constraints":[],"propagate_tags":null,"scheduling_strategy":"REPLICA","service_connect_configuration":[],"service_registries":[],"tags":null,"timeouts":null,"volume_configuration":[],"vpc_lattice_configurations":[],"wait_for_steady_state":false},"after_unknown":{"alarms":[],"capacity_provider_strategy":[],"cluster":true,"deployment_circuit_breaker":[],"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[],"network_configuration":[{"subnets":true}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":true,"service_connect_configuration":[],"service_registries":[],"tags_all":true,"task_definition":true,"triggers":true,"volume_configuration":[],"vpc_lattice_configurations":[]},"before_sensitive":false,"after_sensitive":{"alarms":[],"capacity_provider_strategy":[],"deployment_circuit_breaker":[],"deployment_controller":[],"load_balancer":[],"network_configuration":[{"subnets":[]}],"ordered_placement_strategy":[],"placement_constraints":[],"service_connect_configuration":[],"service_registries":[],"tags_all":{},"triggers":{},"volume_configuration":[],"vpc_lattice_configurations":[]}}}],"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.opentofu.org/hashicorp/aws","expressions":{"region":{"constant_value":"eu-north-1"}}}},"root_module":{"resources":[{"address":"aws_ecs_cluster.cluster","mode":"managed","type":"aws_ecs_cluster","name":"cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"test-cluster"}},"schema_version":0},{"address":"aws_ecs_task_definition.task","mode":"managed","type":"aws_ecs_task_definition","name":"task","provider_config_key":"aws","expressions":{"container_definitions":{},"cpu":{"constant_value":256},"family":{"constant_value":"test-task"},"memory":{"constant_value":512},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]}},"schema_version":1},{"address":"aws_subnet.subnet_one","mode":"managed","type":"aws_subnet","name":"subnet_one","provider_config_key":"aws","expressions":{"cidr_block":{"references":["aws_vpc.vpc.cidr_block","aws_vpc.vpc"]},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_subnet.subnet_two","mode":"managed","type":"aws_subnet","name":"subnet_two","provider_config_key":"aws","expressions":{"cidr_block":{"references":["aws_vpc.vpc.cidr_block","aws_vpc.vpc"]},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true}},"schema_version":1}],"module_calls":{"fail":{"source":"./fail","expressions":{"cluster_id":{"references":["aws_ecs_cluster.cluster.id","aws_ecs_cluster.cluster"]},"subnet_ids":{"references":["aws_subnet.subnet_one.id","aws_subnet.subnet_one","aws_subnet.subnet_two.id","aws_subnet.subnet_two"]},"task_definition_arn":{"references":["aws_ecs_task_definition.task.arn","aws_ecs_task_definition.task"]}},"module":{"resources":[{"address":"aws_ecs_service.valid_with_latest_version","mode":"managed","type":"aws_ecs_service","name":"valid_with_latest_version","provider_config_key":"aws","expressions":{"cluster":{"references":["var.cluster_id"]},"desired_count":{"constant_value":0},"launch_type":{"constant_value":"FARGATE"},"name":{"constant_value":"valid-service-with-latest-platform-version"},"network_configuration":[{"assign_public_ip":{"constant_value":false},"subnets":{"references":["var.subnet_ids"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"references":["var.task_definition_arn"]}},"schema_version":1},{"address":"aws_ecs_service.valid_without_version","mode":"managed","type":"aws_ecs_service","name":"valid_without_version","provider_config_key":"aws","expressions":{"cluster":{"references":["var.cluster_id"]},"desired_count":{"constant_value":0},"launch_type":{"constant_value":"FARGATE"},"name":{"constant_value":"valid-service-without-platform-version"},"network_configuration":[{"assign_public_ip":{"constant_value":false},"subnets":{"references":["var.subnet_ids"]}}],"task_definition":{"references":["var.task_definition_arn"]}},"schema_version":1}],"variables":{"cluster_id":{},"subnet_ids":{},"task_definition_arn":{}}}},"pass":{"source":"./pass","expressions":{"cluster_id":{"references":["aws_ecs_cluster.cluster.id","aws_ecs_cluster.cluster"]},"subnet_ids":{"references":["aws_subnet.subnet_one.id","aws_subnet.subnet_one","aws_subnet.subnet_two.id","aws_subnet.subnet_two"]},"task_definition_arn":{"references":["aws_ecs_task_definition.task.arn","aws_ecs_task_definition.task"]}},"module":{"resources":[{"address":"aws_ecs_service.valid_with_latest_version","mode":"managed","type":"aws_ecs_service","name":"valid_with_latest_version","provider_config_key":"aws","expressions":{"cluster":{"references":["var.cluster_id"]},"desired_count":{"constant_value":0},"launch_type":{"constant_value":"FARGATE"},"name":{"constant_value":"valid-service-with-latest-platform-version"},"network_configuration":[{"assign_public_ip":{"constant_value":false},"subnets":{"references":["var.subnet_ids"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"references":["var.task_definition_arn"]}},"schema_version":1},{"address":"aws_ecs_service.valid_without_version","mode":"managed","type":"aws_ecs_service","name":"valid_without_version","provider_config_key":"aws","expressions":{"cluster":{"references":["var.cluster_id"]},"desired_count":{"constant_value":0},"launch_type":{"constant_value":"FARGATE"},"name":{"constant_value":"valid-service-without-platform-version"},"network_configuration":[{"assign_public_ip":{"constant_value":false},"subnets":{"references":["var.subnet_ids"]}}],"task_definition":{"references":["var.task_definition_arn"]}},"schema_version":1}],"variables":{"cluster_id":{},"subnet_ids":{},"task_definition_arn":{}}}}}}},"relevant_attributes":[{"resource":"aws_ecs_cluster.cluster","attribute":["id"]},{"resource":"aws_ecs_task_definition.task","attribute":["arn"]},{"resource":"aws_subnet.subnet_one","attribute":["id"]},{"resource":"aws_subnet.subnet_two","attribute":["id"]},{"resource":"aws_vpc.vpc","attribute":["cidr_block"]},{"resource":"aws_vpc.vpc","attribute":["id"]}],"timestamp":"2025-01-22T21:55:09Z","errored":false}
